<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Juego de S√≠labas - Lecci√≥n 1</title>
<style>
body {
    font-family: "Comic Sans MS", sans-serif;
    background: linear-gradient(135deg,#FBF8EF,#FFB433);
    text-align: center;
    padding: 25px;
}
h1 { color: #213448; text-shadow: 1px 1px 3px rgba(0,0,0,0.2); }

.zona-palabra {
    display: flex; justify-content: center; align-items: center; flex-wrap: wrap;
    gap: 10px; margin: 20px auto; width: 90%; min-height: 100px;
    background: #fff; border-radius: 12px; border: 3px dashed #94B4C1;
    font-size: 22px; padding: 15px;
}

.teclado {
    display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;
    margin-top: 15px;
}

.silaba {
    background-color: #94B4C1;
    border: none; border-radius: 10px; padding: 10px 15px;
    font-size: 20px; cursor: pointer; color: #213448; font-weight: bold;
    transition: all 0.3s;
}
.silaba:hover { background-color: #547792; color: #fff; transform: scale(1.1); }

button {
    margin: 10px; padding: 12px 25px; border-radius: 12px; border: none;
    background:#FFB433; color:#213448; font-weight:bold; font-size:18px; cursor:pointer;
    box-shadow:0 4px 8px rgba(0,0,0,0.2); transition: all 0.3s;
}
button:hover { background:#FFA500; transform: scale(1.05); }

#mensaje { font-weight:bold; font-size:18px; margin-top:15px;}
.final-opciones { margin-top:20px; }
img.palabra-img { width: 80px; height: 80px; object-fit: contain; margin: 5px; border-radius:8px; }
</style>
</head>
<body>

<h1>Arma la palabra con s√≠labas</h1>

<div id="palabraActual" class="zona-palabra"></div>
<div id="teclado" class="teclado"></div>

<img id="imagenReferencia" class="palabra-img" src="" alt="Referencia">

<button onclick="verificarPalabra()">‚úÖ Verificar palabra</button>
<button onclick="borrarPalabra()">üóë Borrar</button>

<p id="mensaje"></p>
<div id="opcionesFinal" class="final-opciones" style="display:none;"></div>

<script>
// Definimos las palabras de la Lecci√≥n 1 (solo de tus 5 frases)
const palabrasLeccion = [
  { palabra: "elefante", silabas: ["e","le","fan","te"], img:"elefante.png" },
  { palabra: "tina", silabas: ["ti","na"], img:"nino_tina.png" },
  { palabra: "olla", silabas: ["o","lla"], img:"olla.png" },
  { palabra: "sapo", silabas: ["sa","po"], img:"sapo.png" },
  { palabra: "bailarina", silabas: ["bai","la","ri","na"], img:"bailarina.png" },
  { palabra: "rosa", silabas: ["ro","sa"], img:"bailarina.png" },
  { palabra: "africa", silabas: ["a","fri","ca"], img:"elefante.png" },
  { palabra: "barro", silabas: ["ba","rro"], img:"olla.png" }
];

let palabrasJuego = [];
let palabraIndex = 0;
let silabasSeleccionadas = [];
let correctas = 0;

const palabraDiv = document.getElementById("palabraActual");
const tecladoDiv = document.getElementById("teclado");
const mensaje = document.getElementById("mensaje");
const imagenRef = document.getElementById("imagenReferencia");
const opcionesFinal = document.getElementById("opcionesFinal");

function iniciarJuego(){
  // Tomamos 5 palabras al azar sin repetir de las 8 posibles
  palabrasJuego = [...palabrasLeccion].sort(()=>0.5-Math.random()).slice(0,5);
  palabraIndex=0; correctas=0;
  cargarPalabra();
}

function cargarPalabra(){
  silabasSeleccionadas=[];
  palabraDiv.textContent="";
  mensaje.textContent="";
  tecladoDiv.textContent="";
  const palabraActual = palabrasJuego[palabraIndex];
  imagenRef.src = "imagenes/"+palabraActual.img;

  palabraActual.silabas.sort(()=>0.5-Math.random()).forEach(s=>{
    const btn=document.createElement("button");
    btn.textContent=s; btn.className="silaba";
    btn.onclick=()=>{ 
        silabasSeleccionadas.push(s); 
        palabraDiv.textContent=silabasSeleccionadas.join(""); 
    }
    tecladoDiv.appendChild(btn);
  });
}

function borrarPalabra(){ 
  silabasSeleccionadas=[]; 
  palabraDiv.textContent=""; 
}

function verificarPalabra(){
  if(silabasSeleccionadas.length===0) return; // no hacer nada si no hay s√≠labas
  const palabraActual = palabrasJuego[palabraIndex];
  if(silabasSeleccionadas.join("") === palabraActual.palabra){
    mensaje.textContent="‚úÖ ¬°Correcto!";
    correctas++;
  } else {
    mensaje.textContent="‚ùå Intenta otra vez";
  }
  palabraIndex++;
  if(palabraIndex<palabrasJuego.length){
    setTimeout(cargarPalabra,700);
  } else {
    setTimeout(finalizarJuego,800);
  }
}

function finalizarJuego(){
  palabraDiv.style.display="none";
  tecladoDiv.style.display="none";
  imagenRef.style.display="none";
  mensaje.style.display="none";
  opcionesFinal.style.display="block";

  if(correctas>=3){
    opcionesFinal.innerHTML=`<p>üéâ ¬°Felicidades! Lograste ${correctas}/5 palabras correctamente.</p>
    <button onclick="window.location.href='index.html'">Continuar</button>
    <button onclick="window.location.href='silabear1.html'">Jugar de nuevo</button>`;
  } else {
    opcionesFinal.innerHTML=`<p>üòÖ Solo lograste ${correctas}/5 palabras. Debes intentarlo otra vez.</p>
    <button onclick="window.location.href='silabear1.html'">Jugar de nuevo</button>`;
  }
}

iniciarJuego();
</script>

</body>
</html>
